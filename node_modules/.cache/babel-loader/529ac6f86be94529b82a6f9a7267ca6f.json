{"ast":null,"code":"import _classCallCheck from \"/Users/brandon/aushuttle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/brandon/aushuttle/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/brandon/aushuttle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/brandon/aushuttle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/brandon/aushuttle/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/brandon/aushuttle/src/AdelphiCommuter/Shuttle.jsx\";\nimport React from 'react';\nimport { ErrorBoundary } from './ErrorBoundary.jsx';\nimport { DVDate } from './Functions.js';\nimport { timeString } from './Functions.js';\nimport { ToMins } from './Functions.js';\nimport { timeConvert } from './Functions.js';\nimport './index.css';\nexport var Shuttle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Shuttle, _React$Component);\n\n  function Shuttle(props) {\n    var _this;\n\n    _classCallCheck(this, Shuttle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Shuttle).call(this, props));\n    _this.state = {\n      time: new Date(),\n      value: new Date().getHours() + new Date().getMinutes() / 100,\n      i: 0,\n      message: '',\n      countdown: [],\n      difference: 0\n    };\n    return _this;\n  } // Updates the date property to the current date and time\n\n\n  _createClass(Shuttle, [{\n    key: \"tick\",\n    value: function tick() {\n      this.setState({\n        time: new Date(),\n        value: new Date().getHours() + new Date().getMinutes() / 100\n      }); // Check when the next shuttle is coming\n\n      this.nextShuttle();\n    } //Runs after the component is added to the DOM\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Calls the tick() every second\n      this.timerID = setInterval(function () {\n        return _this2.tick();\n      }, //\n      10);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {} //Displays the remaning shuttles left\n\n  }, {\n    key: \"nextShuttle\",\n    value: function nextShuttle() {\n      // Checks to what shuttles have already left\n      if (this.state.value > this.props.weekdayValues[this.state.i]) {\n        //console.log(this.state.i);\n        console.log(\"Latest shuttle has left, shift array, update UI\");\n        this.setState({\n          i: this.state.i + 1\n        });\n      } // Checks for the next shuttle\n\n\n      if (this.state.value < this.props.weekdayValues[this.state.i]) {\n        console.log(\"Go Catch the next shuttle at \" + timeString(this.props.weekdayValues[this.state.i]) + ',  it is at index ' + this.state.i);\n        console.log(this.props.arriving);\n      } // Flashes the shuttle time that is leaving that minute\n\n\n      if (this.state.value == this.props.weekdayValues[this.state.i]) {\n        console.log(\"Shuttle is leaving now\"); //console.log(this.state.i);\n      } // Shows there are no more shuttles for the day\n\n\n      if (this.props.data.length == this.state.i) {\n        console.log(\"There are no more shuttles for the day.\");\n        this.setState({\n          message: 'There are no more shuttles for the day.'\n        });\n      }\n    } // End of Function\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var content = this.props.data.slice(this.state.i).map(function (post) {\n        return React.createElement(\"div\", {\n          className: \"itemDiv\",\n          key: post.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, post.weekday, \" - \", post.weekdayTwo), React.createElement(\"p\", {\n          className: \"dname\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, _this3.props.departing), React.createElement(\"p\", {\n          className: \"aname\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, _this3.props.arriving), React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"Countdown\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, timeConvert(Math.round(DVDate(post.difference.getHours(), post.difference.getMinutes()) - DVDate(_this3.state.time.getHours(), _this3.state.time.getMinutes()))), \" \")));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"contentDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, content), React.createElement(\"div\", {\n        className: \"InvalidSearchDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"InvalidSearchText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.state.message)));\n    }\n  }]);\n\n  return Shuttle;\n}(React.Component);","map":{"version":3,"sources":["/Users/brandon/aushuttle/src/AdelphiCommuter/Shuttle.jsx"],"names":["React","ErrorBoundary","DVDate","timeString","ToMins","timeConvert","Shuttle","props","state","time","Date","value","getHours","getMinutes","i","message","countdown","difference","setState","nextShuttle","timerID","setInterval","tick","weekdayValues","console","log","arriving","data","length","content","slice","map","post","id","weekday","weekdayTwo","departing","Math","round","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAAQC,MAAR,QAAqB,gBAArB;AACA,SAAQC,UAAR,QAAyB,gBAAzB;AACA,SAAQC,MAAR,QAAqB,gBAArB;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AAEA,OAAO,aAAP;AAIA,WAAaC,OAAb;AAAA;AAAA;AAAA;;AAEE,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXC,MAAAA,KAAK,EAAE,IAAID,IAAJ,GAAWE,QAAX,KAAuB,IAAIF,IAAJ,GAAWG,UAAX,KAAwB,GAF3C;AAGXC,MAAAA,CAAC,EAAE,CAHQ;AAIXC,MAAAA,OAAO,EAAE,EAJE;AAKXC,MAAAA,SAAS,EAAE,EALA;AAMXC,MAAAA,UAAU,EAAE;AAND,KAAb;AAFiB;AAWlB,GAbH,CAiBE;;;AAjBF;AAAA;AAAA,2BAkBS;AACP,WAAKC,QAAL,CAAc;AACZT,QAAAA,IAAI,EAAE,IAAIC,IAAJ,EADM;AAEZC,QAAAA,KAAK,EAAE,IAAID,IAAJ,GAAWE,QAAX,KAAuB,IAAIF,IAAJ,GAAWG,UAAX,KAAwB;AAF1C,OAAd,EADO,CAMN;;AACA,WAAKM,WAAL;AAGA,KA5BH,CA8BE;;AA9BF;AAAA;AAAA,wCA+BqB;AAAA;;AACjB;AACA,WAAKC,OAAL,GAAeC,WAAW,CACxB;AAAA,eAAM,MAAI,CAACC,IAAL,EAAN;AAAA,OADwB,EAExB;AACA,QAHwB,CAA1B;AASD;AA1CH;AAAA;AAAA,2CA4CwB,CAErB,CA9CH,CAgDE;;AAhDF;AAAA;AAAA,kCAiDe;AAEV;AACA,UAAI,KAAKd,KAAL,CAAWG,KAAX,GAAmB,KAAKJ,KAAL,CAAWgB,aAAX,CAAyB,KAAKf,KAAL,CAAWM,CAApC,CAAvB,EAA+D;AAC7D;AACAU,QAAAA,OAAO,CAACC,GAAR,CAAY,iDAAZ;AACA,aAAKP,QAAL,CAAc;AACVJ,UAAAA,CAAC,EAAE,KAAKN,KAAL,CAAWM,CAAX,GAAe;AADR,SAAd;AAGD,OATS,CAWV;;;AACE,UAAI,KAAKN,KAAL,CAAWG,KAAX,GAAmB,KAAKJ,KAAL,CAAWgB,aAAX,CAAyB,KAAKf,KAAL,CAAWM,CAApC,CAAvB,EAA+D;AAC/DU,QAAAA,OAAO,CAACC,GAAR,CAAY,kCAAkCtB,UAAU,CAAC,KAAKI,KAAL,CAAWgB,aAAX,CAAyB,KAAKf,KAAL,CAAWM,CAApC,CAAD,CAA5C,GAAuF,oBAAvF,GAA8G,KAAKN,KAAL,CAAWM,CAArI;AACAU,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAL,CAAWmB,QAAvB;AACD,OAfS,CAiBT;;;AACA,UAAI,KAAKlB,KAAL,CAAWG,KAAX,IAAoB,KAAKJ,KAAL,CAAWgB,aAAX,CAAyB,KAAKf,KAAL,CAAWM,CAApC,CAAxB,EAA+D;AAC9DU,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAD8D,CAE9D;AACD,OArBS,CAuBV;;;AACC,UAAI,KAAKlB,KAAL,CAAWoB,IAAX,CAAgBC,MAAhB,IAA0B,KAAKpB,KAAL,CAAWM,CAAzC,EAA2C;AAC1CU,QAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACA,aAAKP,QAAL,CAAc;AACZH,UAAAA,OAAO,EAAE;AADG,SAAd;AAGD;AACH,KA/EH,CA+EI;;AA/EJ;AAAA;AAAA,6BAiFU;AAAA;;AAEN,UAAIc,OAAO,GAAG,KAAKtB,KAAL,CAAWoB,IAAX,CAAgBG,KAAhB,CAAsB,KAAKtB,KAAL,CAAWM,CAAjC,EAAoCiB,GAApC,CAAwC,UAACC,IAAD;AAAA,eAElD;AAAK,UAAA,SAAS,EAAC,SAAf;AAAyB,UAAA,GAAG,EAAEA,IAAI,CAACC,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEA;AAAG,UAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBD,IAAI,CAACE,OAA1B,SAAsCF,IAAI,CAACG,UAA3C,CAFA,EAIA;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsB,MAAI,CAAC5B,KAAL,CAAW6B,SAAjC,CAJA,EAMA;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsB,MAAI,CAAC7B,KAAL,CAAWmB,QAAjC,CANA,EAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQ;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0BrB,WAAW,CAAEgC,IAAI,CAACC,KAAL,CAAYpC,MAAM,CAAC8B,IAAI,CAACf,UAAL,CAAgBL,QAAhB,EAAD,EAA4BoB,IAAI,CAACf,UAAL,CAAgBJ,UAAhB,EAA5B,CAAN,GAAkEX,MAAM,CAAC,MAAI,CAACM,KAAL,CAAWC,IAAX,CAAgBG,QAAhB,EAAD,EAA4B,MAAI,CAACJ,KAAL,CAAWC,IAAX,CAAgBI,UAAhB,EAA5B,CAApF,CAAF,CAArC,MAAR,CARA,CAFkD;AAAA,OAAxC,CAAd;AAgBA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6BgB,OAA7B,CADR,EAGQ;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkC,KAAKrB,KAAL,CAAWO,OAA7C,CADJ,CAHR,CADF;AASD;AA5GH;;AAAA;AAAA,EAA6Bf,KAAK,CAACuC,SAAnC","sourcesContent":["import React from 'react';\nimport { ErrorBoundary } from './ErrorBoundary.jsx';\nimport {DVDate} from './Functions.js';\nimport {timeString} from './Functions.js';\nimport {ToMins} from './Functions.js';\nimport {timeConvert} from './Functions.js'\n\nimport './index.css';\n\n\n\nexport class Shuttle extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: new Date(),\n      value: new Date().getHours()+(new Date().getMinutes()/100),\n      i: 0,\n      message: '',\n      countdown: [],\n      difference: 0\n    };\n\n  }\n\n\n\n  // Updates the date property to the current date and time\n  tick() {\n  this.setState({\n    time: new Date(),\n    value: new Date().getHours()+(new Date().getMinutes()/100),\n   });\n\n   // Check when the next shuttle is coming\n   this.nextShuttle();\n\n\n  }\n\n  //Runs after the component is added to the DOM\n  componentDidMount(){\n    // Calls the tick() every second\n    this.timerID = setInterval(\n      () => this.tick(),\n      //\n      10\n    );\n\n\n\n\n  }\n\n  componentWillUnmount(){\n\n  }\n\n  //Displays the remaning shuttles left\n  nextShuttle(){\n\n     // Checks to what shuttles have already left\n     if (this.state.value > this.props.weekdayValues[this.state.i]) {\n       //console.log(this.state.i);\n       console.log(\"Latest shuttle has left, shift array, update UI\");\n       this.setState({\n           i: this.state.i + 1\n         });\n     }\n\n     // Checks for the next shuttle\n       if (this.state.value < this.props.weekdayValues[this.state.i]) {\n       console.log(\"Go Catch the next shuttle at \" + timeString(this.props.weekdayValues[this.state.i]) + ',  it is at index ' + this.state.i);\n       console.log(this.props.arriving)\n     }\n\n      // Flashes the shuttle time that is leaving that minute\n      if (this.state.value == this.props.weekdayValues[this.state.i]){\n       console.log(\"Shuttle is leaving now\");\n       //console.log(this.state.i);\n     }\n\n     // Shows there are no more shuttles for the day\n      if (this.props.data.length == this.state.i){\n       console.log(\"There are no more shuttles for the day.\");\n       this.setState({\n         message: 'There are no more shuttles for the day.'\n       });\n     }\n  } // End of Function\n\n  render(){\n\n    let content = this.props.data.slice(this.state.i).map((post) =>\n\n        <div className='itemDiv' key={post.id}>\n\n        <p className='time'>{post.weekday} - {post.weekdayTwo}</p>\n\n        <p className='dname'>{this.props.departing}</p>\n\n        <p className='aname'>{this.props.arriving}</p>\n\n        <strong><p className='Countdown'>{timeConvert( Math.round( DVDate(post.difference.getHours(),post.difference.getMinutes()) - DVDate(this.state.time.getHours(),this.state.time.getMinutes()) ) )} </p></strong>\n\n        </div>\n    );\n\n\n    return(\n      <div>\n              <div className='contentDiv'>{content}</div>\n\n              <div className='InvalidSearchDiv'>\n                  <p className='InvalidSearchText'>{this.state.message}</p>\n              </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}